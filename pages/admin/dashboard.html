<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Título do documento -->
    <title>Admin Dashboard</title>

    <!-- Bootstrap & Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- Folha de estilo personalizada -->
    <link rel="stylesheet" href="../../styles/dashboard.css" />
  </head>

  <body>
    <!-- Sidebar - Menu lateral -->
    <nav class="sidebar">
      <h4 class="text-center mb-4">Administração</h4>
      <a href="#" onclick="mostrarTela('home')"
        ><i class="bi bi-house"></i> Início</a
      >
      <a href="#" onclick="mostrarTela('evento')"
        ><i class="bi bi-calendar-plus"></i> Evento</a
      >
      <a href="#" onclick="mostrarTela('jurados')"
        ><i class="bi bi-people"></i> Jurados</a
      >
      <a href="#" onclick="mostrarTela('brackets')"
        ><i class="bi bi-diagram-3"></i> Brackets</a
      >
      <a href="#" onclick="mostrarTela('painel')"
        ><i class="bi bi-display"></i> Painel ao Vivo</a
      >
      <a href="#" onclick="mostrarTela('config')"
        ><i class="bi bi-gear"></i> Configurações</a
      >
      <a href="#" onclick="mostrarTela('relatorios')">
        <i class="bi bi-file-earmark-bar-graph"></i> Relatórios
      </a>
    </nav>

    <!-- Conteúdo principal -->
    <div class="main-content">
      <div id="home" class="tela">
        <h2>Bem-vindo ao Painel de Administração</h2>
        <p>Selecione uma opção no menu lateral para começar.</p>
      </div>

      <!-- Conteúdo 'evento' -->
      <div id="evento" class="tela d-none">
        <h3>Gerenciar Eventos</h3>
        <button
          class="btn btn-primary mb-3"
          data-bs-toggle="modal"
          data-bs-target="#modalCriarEvento"
        >
          + Novo Evento
        </button>

        <!-- Modal Criar Evento -->
        <div
          class="modal fade"
          id="modalCriarEvento"
          tabindex="-1"
          aria-labelledby="modalCriarEventoLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <form id="formEvento">
                <div class="modal-header">
                  <h5 class="modal-title" id="modalCriarEventoLabel">
                    Criar Novo Evento
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Fechar"
                  ></button>
                </div>
                <div class="modal-body">
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label for="nomeEvento" class="form-label"
                        >Nome do Evento</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="nomeEvento"
                        required
                      />
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="organizador" class="form-label"
                        >Nome do Organizador</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="organizador"
                        required
                      />
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label for="telefone" class="form-label">Telefone</label>
                      <input type="tel" class="form-control" id="telefone" />
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="email" class="form-label">E-mail</label>
                      <input type="email" class="form-control" id="email" />
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label for="dataEvento" class="form-label">Data</label>
                      <input
                        type="date"
                        class="form-control"
                        id="dataEvento"
                        required
                      />
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="localEvento" class="form-label">Local</label>
                      <input
                        type="text"
                        class="form-control"
                        id="localEvento"
                      />
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label for="modalidades" class="form-label"
                        >Modalidade</label
                      >
                      <select class="form-select" id="modalidades" required>
                        <option value="" selected disabled>Selecione</option>
                        <option value="1x1">1 x 1</option>
                        <option value="2x2">2 x 2</option>
                        <option value="3x3">3 x 3</option>
                        <option value="5x5">5 x 5</option>
                        <option value="crew">Crew x Crew</option>
                      </select>
                    </div>
                    <div class="col-md-6 mb-3">
                      <label for="qtdJurados" class="form-label"
                        >Qtd. Jurados</label
                      >
                      <select class="form-select" id="qtdJurados" required>
                        <option value="" selected disabled>Selecione</option>
                        <option value="3">3 Jurados</option>
                        <option value="5">5 Jurados</option>
                      </select>
                    </div>
                  </div>

                  <div class="mb-3">
                    <label for="observacoes" class="form-label"
                      >Observações</label
                    >
                    <textarea
                      class="form-control"
                      id="observacoes"
                      rows="3"
                    ></textarea>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="submit" class="btn btn-success">Salvar</button>
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Fechar
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- Mensagem de sucesso -->
        <div id="mensagemEvento" class="alert alert-success d-none mt-3">
          Evento salvo com sucesso!
        </div>

        <!-- Lista de eventos cadastrados -->
        <h4 class="mt-5">Eventos Cadastrados</h4>
        <table class="table table-bordered table-hover" id="tabelaEventos">
          <thead class="table-dark">
            <tr>
              <th>Nome do Evento</th>
              <th>Organizador</th>
              <th>Email</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <div id="jurados" class="tela d-none">
        <!-- Conteúdo: formulário e tabela CRUD de jurados -->
      </div>

      <!-- Chaveamento -->
      <div id="brackets" class="tela d-none">
        <h3>Brackets</h3>
        <p>
          <a href="brackets.html" class="btn btn-outline-primary"
            >Acessar Brackets</a
          >
        </p>
      </div>

      <!-- Painel de resultados -->
      <div id="painel" class="tela d-none">
        <h3>Painel de Resultados</h3>
        <p>
          <a href="/pages/admin/painel.html" class="btn btn-outline-success"
            >Ver Painel em Tempo Real</a
          >
        </p>
      </div>

      <!-- Configurações gerais -->
      <div id="config" class="tela d-none">
        <h3>Configurações Gerais</h3>
        <p>Aqui você poderá configurar detalhes adicionais do sistema.</p>
      </div>

      <!-- Relatórios -->
      <div id="relatorios" class="tela d-none">
        <h3>Relatórios e Exportações</h3>
        <p>
          Visualize e exporte os resultados das batalhas e rankings dos
          competidores.
        </p>

        <div class="mb-3">
          <label for="tipoRelatorio" class="form-label"
            >Tipo de Relatório</label
          >
          <select id="tipoRelatorio" class="form-select">
            <option value="ranking">Ranking Geral</option>
            <option value="batalhas">Resultados das Batalhas</option>
          </select>
        </div>

        <button class="btn btn-primary" onclick="exportarRelatorio()">
          Exportar PDF
        </button>

        <div class="mt-4">
          <h5>Pré-visualização</h5>
          <div class="border p-3" id="previewRelatorio">
            <p>Selecione um tipo de relatório para visualizar.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Gerenciar Evento -->
    <div
      class="modal fade"
      id="modalGerenciarEvento"
      tabindex="-1"
      aria-labelledby="modalGerenciarEventoLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              Gerenciar Evento: <span id="nomeEventoGerenciar"></span>
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Fechar"
            ></button>
          </div>
          <div class="modal-body">
            <!-- Abas do modal -->
            <ul class="nav nav-tabs" id="abasGerenciar" role="tablist">
              <li class="nav-item">
                <button
                  class="nav-link active"
                  data-bs-toggle="tab"
                  data-bs-target="#aba-jurados"
                >
                  Jurados
                </button>
              </li>
              <li class="nav-item">
                <button
                  class="nav-link"
                  data-bs-toggle="tab"
                  data-bs-target="#aba-interface"
                >
                  Interface de Julgamento
                </button>
              </li>
              <li class="nav-item">
                <button
                  class="nav-link"
                  data-bs-toggle="tab"
                  data-bs-target="#aba-ranking"
                >
                  Ranking
                </button>
              </li>
              <li class="nav-item">
                <button
                  class="nav-link"
                  data-bs-toggle="tab"
                  data-bs-target="#aba-historico"
                >
                  Modalidades
                </button>
              </li>
              <li class="nav-item">
                <button
                  class="nav-link"
                  data-bs-toggle="tab"
                  data-bs-target="#aba-config-geral"
                >
                  Outras Configurações
                </button>
              </li>
            </ul>

            <!-- Conteúdo das abas -->
            <div class="tab-content mt-3">
              <!-- Jurados -->
              <div
                class="tab-pane fade show active"
                id="aba-jurados"
                role="tabpanel"
              >
                <p>Selecione jurados para este evento:</p>
                <div id="listaJuradosEvento">
                  <!-- A lista será preenchida via JS com base no localStorage ou backend -->
                </div>
                <button
                  class="btn btn-sm btn-primary mt-2"
                  onclick="atribuirJuradosAoEvento()"
                >
                  Atribuir Jurados
                </button>
              </div>

              <!-- Interface de julgamento -->
              <div class="tab-pane fade" id="aba-interface" role="tabpanel">
                <p>Escolha a interface de julgamento para este evento:</p>

                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    value="triplice.html"
                    id="interfaceTriplice"
                  />
                  <label class="form-check-label" for="interfaceTriplice">
                    Tríplice Interface
                  </label>
                </div>

                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    value="pre-selecao.html"
                    id="interfacePreSelecao"
                  />
                  <label class="form-check-label" for="interfacePreSelecao">
                    Pré-Seleção Interface
                  </label>
                </div>

                <button
                  class="btn btn-sm btn-success mt-2"
                  onclick="salvarInterfaceJulgamento()"
                >
                  Salvar Interface(s)
                </button>
              </div>

              <!-- Ranking -->
              <div class="tab-pane fade" id="aba-ranking" role="tabpanel">
                <p>
                  Visualizar ou exportar ranking de pontuação dos competidores
                  deste evento.
                </p>
                <button
                  class="btn btn-outline-secondary"
                  onclick="exportarRankingDoEvento()"
                >
                  Exportar Ranking
                </button>
              </div>

              <!-- Histórico de batalhas -->
              <div class="tab-pane fade" id="aba-historico" role="tabpanel">
                <p>
                  Visualize o histórico de batalhas disputadas neste evento.
                </p>
                <div id="historicoBatalhas">
                  <!-- Será alimentado por JS no futuro -->
                  <p>Em breve...</p>
                </div>
              </div>

              <!-- Configurações adicionais -->
              <div class="tab-pane fade" id="aba-config-geral" role="tabpanel">
                <p>
                  Outras configurações específicas do evento (ex: tempo de
                  round, empates, etc).
                </p>
                <p>Em breve...</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -CDN | script admin -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../scripts/dashboard.js"></script>
  </body>
</html>
